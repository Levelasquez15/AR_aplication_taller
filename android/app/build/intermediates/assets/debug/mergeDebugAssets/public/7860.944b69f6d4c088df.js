"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7860],{7860:(E,g,l)=>{l.r(g),l.d(g,{MarkerGeneratorPageModule:()=>b});var u=l(2200),d=l(4341),r=l(7343),p=l(8132),h=l(467),e=l(3664),M=l(3896),F=l(3690);function C(c,i){if(1&c&&(e.j41(0,"div",24)(1,"h3"),e.EFF(2,"Vista Previa"),e.k0s(),e.j41(3,"div",25),e.nrm(4,"img",26),e.k0s(),e.j41(5,"ion-text",27)(6,"p",28),e.EFF(7),e.k0s()()()),2&c){const m=e.XpG();e.R7$(4),e.Y8G("src",m.previewUrl,e.B4B),e.R7$(3),e.JRh(null==m.selectedFile?null:m.selectedFile.name)}}let P=(()=>{var c;class i{constructor(n,o,t,a){this.alertController=n,this.loadingController=o,this.storageService=t,this.authService=a,this.selectedFile=null,this.previewUrl=null,this.markerName="",this.isGenerating=!1}ngOnInit(){}triggerFileInput(){const n=document.getElementById("fileInput");n&&n.click()}onFileSelected(n){const o=n.target.files[0];if(o&&o.type.startsWith("image/")){this.selectedFile=o;const t=new FileReader;t.onload=a=>{this.previewUrl=a.target.result},t.readAsDataURL(o)}else this.showAlert("Error","Por favor selecciona una imagen v\xe1lida")}generateMarker(){var n=this;return(0,h.A)(function*(){if(!n.selectedFile)return void(yield n.showAlert("Error","Por favor selecciona una imagen"));if(!n.markerName.trim())return void(yield n.showAlert("Error","Por favor ingresa un nombre para el marcador"));const o=n.authService.currentUserValue;if(!o)return void(yield n.showAlert("Error","Debes estar autenticado"));const t=yield n.loadingController.create({message:"Subiendo imagen...",spinner:"crescent"});yield t.present(),n.isGenerating=!0;try{const a=yield n.storageService.uploadImage(n.selectedFile,o.uid);if(!a.success)throw new Error(a.error);yield t.dismiss(),yield n.showAlert("\xc9xito",`Imagen "${n.markerName}" subida exitosamente. URL: ${a.url}`),n.resetForm()}catch(a){yield t.dismiss(),yield n.showAlert("Error",a.message||"Error al subir la imagen")}finally{n.isGenerating=!1}})()}resetForm(){this.selectedFile=null,this.previewUrl=null,this.markerName=""}showAlert(n,o){var t=this;return(0,h.A)(function*(){yield(yield t.alertController.create({header:n,message:o,buttons:["OK"]})).present()})()}static#e=c=()=>(this.\u0275fac=function(o){return new(o||i)(e.rXU(r.hG),e.rXU(r.Xi),e.rXU(M.n),e.rXU(F.u))},this.\u0275cmp=e.VBU({type:i,selectors:[["app-marker-generator"]],standalone:!1,decls:75,vars:6,consts:[[3,"translucent"],["slot","start"],["defaultHref","/home"],[3,"fullscreen"],[1,"content-wrapper","ion-padding"],[1,"info-card"],["name","information-circle-outline"],["color","primary"],[1,"upload-card"],[1,"input-item"],["position","floating"],["placeholder","Ej: Logo Empresa, Poster Evento...","type","text",3,"ngModelChange","ngModel"],[1,"file-upload-section"],["type","file","id","fileInput","accept","image/*",2,"display","none",3,"change"],["expand","block","color","secondary",3,"click"],["slot","start","name","cloud-upload-outline"],["class","preview-section",4,"ngIf"],["expand","block","color","primary",1,"generate-btn",3,"click","disabled"],["slot","start","name","qr-code-outline"],[1,"tips-card"],["name","bulb-outline"],["lines","none"],["name","checkmark-circle","slot","start","color","success"],[1,"ion-text-wrap"],[1,"preview-section"],[1,"image-preview"],["alt","Preview",3,"src"],["color","medium"],[1,"file-name"]],template:function(o,t){1&o&&(e.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),e.nrm(3,"ion-back-button",2),e.k0s(),e.j41(4,"ion-title"),e.EFF(5,"Generador de Marcadores AR"),e.k0s()()(),e.j41(6,"ion-content",3)(7,"div",4)(8,"ion-card",5)(9,"ion-card-header")(10,"ion-card-title"),e.nrm(11,"ion-icon",6),e.EFF(12," C\xf3mo funciona "),e.k0s()(),e.j41(13,"ion-card-content")(14,"p"),e.EFF(15,"Sube una imagen que ser\xe1 tu marcador de Realidad Aumentada. Esta imagen se usar\xe1 para activar el contenido AR cuando la c\xe1mara la detecte."),e.k0s(),e.j41(16,"ion-text",7)(17,"p")(18,"strong"),e.EFF(19,"Consejos:"),e.k0s()(),e.j41(20,"ul")(21,"li"),e.EFF(22,"Usa im\xe1genes con buen contraste"),e.k0s(),e.j41(23,"li"),e.EFF(24,"Evita im\xe1genes muy sim\xe9tricas"),e.k0s(),e.j41(25,"li"),e.EFF(26,"Im\xe1genes con detalles funcionan mejor"),e.k0s(),e.j41(27,"li"),e.EFF(28,"Formato recomendado: JPG o PNG"),e.k0s()()()()(),e.j41(29,"ion-card",8)(30,"ion-card-header")(31,"ion-card-title"),e.EFF(32,"Crear Nuevo Marcador"),e.k0s()(),e.j41(33,"ion-card-content")(34,"ion-item",9)(35,"ion-label",10),e.EFF(36,"Nombre del Marcador"),e.k0s(),e.j41(37,"ion-input",11),e.mxI("ngModelChange",function(s){return e.DH7(t.markerName,s)||(t.markerName=s),s}),e.k0s()(),e.j41(38,"div",12)(39,"input",13),e.bIt("change",function(s){return t.onFileSelected(s)}),e.k0s(),e.j41(40,"ion-button",14),e.bIt("click",function(){return t.triggerFileInput()}),e.nrm(41,"ion-icon",15),e.EFF(42," Seleccionar Imagen "),e.k0s()(),e.DNE(43,C,8,2,"div",16),e.j41(44,"ion-button",17),e.bIt("click",function(){return t.generateMarker()}),e.nrm(45,"ion-icon",18),e.EFF(46),e.k0s()()(),e.j41(47,"ion-card",19)(48,"ion-card-header")(49,"ion-card-title"),e.nrm(50,"ion-icon",20),e.EFF(51," Tips Adicionales "),e.k0s()(),e.j41(52,"ion-card-content")(53,"ion-list",21)(54,"ion-item"),e.nrm(55,"ion-icon",22),e.j41(56,"ion-label",23)(57,"h3"),e.EFF(58,"Iluminaci\xf3n adecuada"),e.k0s(),e.j41(59,"p"),e.EFF(60,"Aseg\xfarate de tener buena luz al escanear"),e.k0s()()(),e.j41(61,"ion-item"),e.nrm(62,"ion-icon",22),e.j41(63,"ion-label",23)(64,"h3"),e.EFF(65,"Distancia correcta"),e.k0s(),e.j41(66,"p"),e.EFF(67,"Mant\xe9n la c\xe1mara a 20-50cm del marcador"),e.k0s()()(),e.j41(68,"ion-item"),e.nrm(69,"ion-icon",22),e.j41(70,"ion-label",23)(71,"h3"),e.EFF(72,"Marcador plano"),e.k0s(),e.j41(73,"p"),e.EFF(74,"Coloca el marcador en una superficie plana"),e.k0s()()()()()()()()),2&o&&(e.Y8G("translucent",!0),e.R7$(6),e.Y8G("fullscreen",!0),e.R7$(31),e.R50("ngModel",t.markerName),e.R7$(6),e.Y8G("ngIf",t.previewUrl),e.R7$(),e.Y8G("disabled",!t.selectedFile||!t.markerName.trim()||t.isGenerating),e.R7$(2),e.SpI(" ",t.isGenerating?"Generando...":"Generar Marcador AR"," "))},dependencies:[u.bT,d.BC,d.vS,r.Jm,r.QW,r.b_,r.I9,r.ME,r.tN,r.W9,r.eU,r.iq,r.$w,r.uz,r.he,r.nf,r.IO,r.BC,r.ai,r.Gw,r.el],styles:[".content-wrapper[_ngcontent-%COMP%]{max-width:800px;margin:0 auto}.info-card[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:20px}.info-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.2rem}.info-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.info-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-top:10px;padding-left:20px}.info-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:8px}.upload-card[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:20px}.input-item[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:8px}.file-upload-section[_ngcontent-%COMP%], .preview-section[_ngcontent-%COMP%]{margin:20px 0}.preview-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;margin-bottom:10px;color:var(--ion-color-primary)}.preview-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:100%;max-width:400px;margin:0 auto;border:2px solid var(--ion-color-light);border-radius:12px;overflow:hidden;background:var(--ion-color-light)}.preview-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;display:block}.preview-section[_ngcontent-%COMP%]   .file-name[_ngcontent-%COMP%]{text-align:center;font-size:.9rem;margin-top:10px;word-break:break-word}.generate-btn[_ngcontent-%COMP%]{margin-top:20px;height:56px;font-size:1rem;font-weight:600}.tips-card[_ngcontent-%COMP%]{border-radius:12px;margin-bottom:20px}.tips-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.2rem}.tips-card[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.5rem}.tips-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start: 0;--inner-padding-end: 0}.tips-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;margin-bottom:5px}.tips-card[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.9rem;color:var(--ion-color-medium)}"]}))}return c(),i})();var f=l(2615);const k=[{path:"",component:P}];let v=(()=>{var c;class i{static#e=c=()=>(this.\u0275fac=function(o){return new(o||i)},this.\u0275mod=e.$C({type:i}),this.\u0275inj=f.G2t({imports:[p.iI.forChild(k),p.iI]}))}return c(),i})(),b=(()=>{var c;class i{static#e=c=()=>(this.\u0275fac=function(o){return new(o||i)},this.\u0275mod=e.$C({type:i}),this.\u0275inj=f.G2t({imports:[u.MD,d.YN,r.bv,v]}))}return c(),i})()}}]);