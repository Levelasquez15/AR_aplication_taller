<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Iniciar sesión</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <div class="auth-wrapper">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Bienvenido</ion-card-title>
        <ion-card-subtitle>Accede con tu cuenta para continuar</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
          <app-input
            label="Correo electrónico"
            type="email"
            placeholder="tu@correo.com"
            formControlName="email"
            autocomplete="email"
          ></app-input>
          <ion-note *ngIf="form.controls.email.touched && form.controls.email.invalid" color="danger">
            Ingresa un correo válido.
          </ion-note>

          <app-input
            label="Contraseña"
            type="password"
            placeholder="••••••"
            formControlName="password"
            autocomplete="current-password"
          ></app-input>
          <ion-note *ngIf="form.controls.password.touched && form.controls.password.invalid" color="danger">
            La contraseña debe tener al menos 6 caracteres.
          </ion-note>

          <ion-note *ngIf="errorMessage" color="danger" class="error">{{ errorMessage }}</ion-note>

          <app-button type="submit" [loading]="isSubmitting">Entrar</app-button>
        </form>

        <div class="actions">
          <span>¿No tienes cuenta?</span>
          <ion-button fill="clear" size="small" (click)="goToRegister()">Regístrate</ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
