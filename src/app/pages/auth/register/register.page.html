<ion-header translucent="true">
  <ion-toolbar>
    <ion-title>Crear cuenta</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <div class="auth-wrapper">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Registro</ion-card-title>
        <ion-card-subtitle>Crea una cuenta para comenzar</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <form [formGroup]="form" (ngSubmit)="onSubmit()" novalidate>
          <app-input
            label="Nombre"
            type="text"
            placeholder="Tu nombre"
            formControlName="displayName"
            autocomplete="name"
          ></app-input>
          <ion-note *ngIf="form.controls.displayName.touched && form.controls.displayName.invalid" color="danger">
            El nombre es obligatorio.
          </ion-note>

          <app-input
            label="Correo electrónico"
            type="email"
            placeholder="tu@correo.com"
            formControlName="email"
            autocomplete="email"
          ></app-input>
          <ion-note *ngIf="form.controls.email.touched && form.controls.email.invalid" color="danger">
            Ingresa un correo válido.
          </ion-note>

          <app-input
            label="Contraseña"
            type="password"
            placeholder="••••••"
            formControlName="password"
            autocomplete="new-password"
          ></app-input>
          <ion-note *ngIf="form.controls.password.touched && form.controls.password.invalid" color="danger">
            La contraseña debe tener al menos 6 caracteres.
          </ion-note>

          <app-input
            label="Confirmar contraseña"
            type="password"
            placeholder="Repite la contraseña"
            formControlName="confirmPassword"
            autocomplete="new-password"
          ></app-input>
          <ion-note *ngIf="form.controls.confirmPassword.touched && form.controls.confirmPassword.invalid" color="danger">
            Confirma la contraseña.
          </ion-note>
          <ion-note *ngIf="passwordMismatch()" color="danger">
            Las contraseñas no coinciden.
          </ion-note>

          <ion-note *ngIf="errorMessage" color="danger" class="error">{{ errorMessage }}</ion-note>

          <app-button type="submit" [loading]="isSubmitting">Crear cuenta</app-button>
        </form>

        <div class="actions">
          <span>¿Ya tienes cuenta?</span>
          <ion-button fill="clear" size="small" (click)="goToLogin()">Inicia sesión</ion-button>
        </div>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
